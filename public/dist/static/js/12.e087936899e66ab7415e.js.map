{"version":3,"sources":["webpack:///src/components/modules/home/sub/news-list.vue","webpack:///./src/components/modules/home/sub/news-list.vue?c5a2","webpack:///./src/components/modules/home/sub/news-list.vue"],"names":["news_list","data","filterNotice","title","getUsersData","this","$api","bsp","notice","getNotices","total","currentPage","currentPageSize","pages","params","pageSize","pageNo","computed","minHeight","document","documentElement","clientHeight","created","getNoticeData","methods","_this","then","ret","parseInt","handleSizeChange","val","handleCurrentChange","picPath","relateId","http_util","genPath","constants","API","viewDetail","row","index","prevId","nextId","length","noticeId","$router","push","name","getText","html","replace","sub_news_list","render","_vm","_h","$createElement","_c","_self","staticClass","style","min-height","attrs","span","_l","item","on","click","$event","_v","_s","src","alt","width","height","staticStyle","max-height","domProps","textContent","content","_f","createTime","background","layout","page-size","current-page","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.e087936899e66ab7415e.js","sourcesContent":["<template>\n  <div class=\"container\" :style=\"{'min-height': minHeight+'px'}\">\n    <el-row>\n      <el-col :span=\"24\">\n        <pl-content-box-block>\n          <div class=\"table-box\" v-for=\"(item,index) in data\" @click=\"viewDetail(item, index)\">\n            <div class=\"table-box-title\">\n              <h3>{{item.title}}</h3>\n            </div>\n            <div class=\"table-box-main\">\n              <div class=\"main-img\">\n                <img :src=\"picPath(item.noticeId)\" alt=\"图片\" width=\"300\" height=\"150\">\n              </div>\n              <div class=\"main-text\">\n                <p class=\"no-indent news-content\"  style=\"max-height: 100px;\" v-text=\"getText(item.content)\"></p>\n                <p class=\"no-indent bottom-p\">\n                  <span class=\"main-date\">\n                    {{item.createTime | date('YYYY-MM-DD')}}\n                  </span>\n                  <span class=\"main-btn\">\n                    <el-button @click=\"viewDetail(item, index)\">查看详情</el-button>\n                  </span>\n                </p>\n              </div>\n            </div>\n          </div>\n        </pl-content-box-block>\n        <div class=\"table-page-wrapper text-center margin-bottom-12\" >\n          <el-pagination\n            background\n            layout=\"prev, pager, next\"\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :page-size=\"currentPageSize\"\n            :current-page=\"currentPage\"\n            :total=\"total\">\n          </el-pagination>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\n  import {MsgType} from 'core/constants';\n  import httpUtil from 'core/utils/http-util';\n  import {HttpPrefix} from 'core/constants';\n  export default {\n    data () {\n      return {\n        filterNotice: {\n          title: ''\n        },\n        getUsersData: this.$api.bsp.notice.getNotices,\n        data: [],\n        total: 0,\n        currentPage: 1,\n        currentPageSize: 10,\n        pages: 0,\n        params: {\n          pageSize: 10,\n          pageNo: 1\n        }\n      };\n    },\n    computed: {\n      minHeight () {\n        return document.documentElement.clientHeight-184;\n      }\n    },\n    created () {\n      this.getNoticeData();\n    },\n    methods: {\n      getNoticeData () {\n        this.params.pageSize = this.currentPageSize;\n        this.params.pageNo = this.currentPage;\n        this.$api.bsp.notice.getNotices(this.params).then(ret => {\n          this.data = ret.data;\n          this.total = ret.total;\n          this.pages = parseInt(this.total / this.currentPageSize) + (this.total % this.currentPageSize === 0 ? 0 : 1);\n        });\n      },\n      handleSizeChange (val) {\n        this.currentPageSize = val;\n        this.currentPage = 1;\n        this.getNoticeData();\n      },\n      handleCurrentChange (val) {\n        this.currentPage = val;\n        this.getNoticeData();\n      },\n      picPath (relateId) {\n        return httpUtil.genPath(HttpPrefix.API + '/file/pub-file/echoPic?relateId=' + relateId + '&&fileType=2')\n      },\n      viewDetail (row, index) {\n        let prevId, nextId;\n        if (this.data.length > (index + 1)) {\n          nextId = this.data[index + 1].noticeId;\n        }\n        if (index > 0) {\n          prevId = this.data[index - 1].noticeId;\n        }\n        this.$router.push({'name': 'news', params: {noticeId: row.noticeId, nextId, prevId}});\n      },\n      getText (html) {\n        return html.replace(/<[^>]+>/g, '');\n      }\n    }\n  };\n</script>\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  .title-container{\n    margin-bottom: 14px;\n    vertical-align: middle;\n  }\n  .news-title{\n    text-align: left;\n    font-size: 16px;\n    font-weight: bold;\n    display: inline-block;\n    overflow: hidden;\n    text-overflow:ellipsis;\n    white-space: nowrap;\n    width: 28em;\n    vertical-align: inherit;\n    margin-bottom: 0;\n  }\n  .news-date{\n    vertical-align: inherit;\n  }\n  /*new*/\n  .table-box {\n    padding-top: 10px;\n    padding-right: 20px;\n    margin-bottom: 30px;\n    background: #f6f6f6;\n    height: 235px;\n    position: relative;\n    cursor: pointer;\n    &:first-child{\n      margin-top: 80px;\n    }\n    &:hover{\n      border: 1px solid #06b7e9;\n      transition: transform 0.5s;\n      transform:translateY(-12px);\n    }\n    .news-content{\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 3;\n      /*line-height: 20px;*/\n      overflow: hidden;\n      max-height: 100px;\n    }\n    .table-box-title{\n      padding-left: 22px;\n      margin-bottom: 15px;\n      border-left: 4px solid #06b7e9;\n      h3{\n        font-size: 20px;\n      }\n    }\n    .table-box-main{\n      margin-left: 26px;\n      overflow: hidden;\n      display: flex;\n      .main-img {\n        float: left;\n        margin-right: 10px;\n        width: 300px;\n      }\n      .main-text {\n        color: #666;\n        font-size: 14px;\n        flex: 1;\n        position: relative;\n        .bottom-p{\n          position: absolute;\n          bottom: 0;\n          width: 100%;\n          .main-date {\n            text-align: center;\n          }\n          .main-btn{\n            position: absolute;\n            right: 0;\n            bottom: -5px;\n          }\n        }\n      }\n    }\n  }\n  /*new*/\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/modules/home/sub/news-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",style:({'min-height': _vm.minHeight+'px'})},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('pl-content-box-block',_vm._l((_vm.data),function(item,index){return _c('div',{staticClass:\"table-box\",on:{\"click\":function($event){_vm.viewDetail(item, index)}}},[_c('div',{staticClass:\"table-box-title\"},[_c('h3',[_vm._v(_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"table-box-main\"},[_c('div',{staticClass:\"main-img\"},[_c('img',{attrs:{\"src\":_vm.picPath(item.noticeId),\"alt\":\"图片\",\"width\":\"300\",\"height\":\"150\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"main-text\"},[_c('p',{staticClass:\"no-indent news-content\",staticStyle:{\"max-height\":\"100px\"},domProps:{\"textContent\":_vm._s(_vm.getText(item.content))}}),_vm._v(\" \"),_c('p',{staticClass:\"no-indent bottom-p\"},[_c('span',{staticClass:\"main-date\"},[_vm._v(\"\\n                  \"+_vm._s(_vm._f(\"date\")(item.createTime,'YYYY-MM-DD'))+\"\\n                \")]),_vm._v(\" \"),_c('span',{staticClass:\"main-btn\"},[_c('el-button',{on:{\"click\":function($event){_vm.viewDetail(item, index)}}},[_vm._v(\"查看详情\")])],1)])])])])})),_vm._v(\" \"),_c('div',{staticClass:\"table-page-wrapper text-center margin-bottom-12\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":_vm.currentPageSize,\"current-page\":_vm.currentPage,\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4fb16f8b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/modules/home/sub/news-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4fb16f8b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./news-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./news-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./news-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4fb16f8b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./news-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4fb16f8b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/modules/home/sub/news-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}