{"version":3,"sources":["webpack:///src/components/modules/home/sub/news-list.vue","webpack:///./src/components/modules/home/sub/news-list.vue?21a0","webpack:///./src/components/modules/home/sub/news-list.vue"],"names":["_constants","__webpack_require__","_httpUtil","getNotices","getNoticeData","_this","this","currentPageSize","currentPage","data","total","val","nextId","noticeId","prevId","esExports","render","_vm","_h","$createElement","_c","_self","staticClass","style","min-height","minHeight","attrs","span","_l","item","index","on","click","$event","viewDetail","_v","_s","title","src","picPath","alt","width","height","staticStyle","max-height","domProps","textContent","getText","content","_f","createTime","background","layout","page-size","current-page","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_204aa9b8_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_news_list_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_news_list_vue___default","a"],"mappings":"sGA2CA,MAAAA,EAAAC,EAAA,QAGAC,EAAAD,EAAA,kGAMA,sCACAE,yBAEA,cACA,kBACA,SACA,mBAEA,UAGA,iFAIA,8BAIAC,mDAGA,IAAAC,EAAAC,+BACAC,wCACAC,mFAEAC,eACAC,kFACA,wDAIAC,mBACA,OACAP,kEAGAO,OACAP,oHAGA,uDAGAQ,OAAA,0CAEAC,iCAGAA,8EAEAC,6DAGA,+DC1GA,IAEAC,GAAiBC,OAFjB,WAA0B,IAAAC,EAAAX,KAAaY,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAAC,OAAgCC,aAAAP,EAAAQ,UAAA,QAAmCL,EAAA,UAAAA,EAAA,UAA4BM,OAAOC,KAAA,MAAWP,EAAA,uBAAAH,EAAAW,GAAAX,EAAA,cAAAY,EAAAC,GAAmE,OAAAV,EAAA,OAAiBE,YAAA,YAAAS,IAA4BC,MAAA,SAAAC,GAAyBhB,EAAAiB,WAAAL,EAAAC,OAA8BV,EAAA,OAAYE,YAAA,oBAA8BF,EAAA,MAAAH,EAAAkB,GAAAlB,EAAAmB,GAAAP,EAAAQ,YAAApB,EAAAkB,GAAA,KAAAf,EAAA,OAAgEE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,aAAuBF,EAAA,OAAYM,OAAOY,IAAArB,EAAAsB,QAAAV,EAAAhB,UAAA2B,IAAA,KAAAC,MAAA,MAAAC,OAAA,WAA0EzB,EAAAkB,GAAA,KAAAf,EAAA,OAA0BE,YAAA,cAAwBF,EAAA,KAAUE,YAAA,yBAAAqB,aAAkDC,aAAA,SAAqBC,UAAWC,YAAA7B,EAAAmB,GAAAnB,EAAA8B,QAAAlB,EAAAmB,aAAiD/B,EAAAkB,GAAA,KAAAf,EAAA,KAAsBE,YAAA,uBAAiCF,EAAA,QAAaE,YAAA,cAAwBL,EAAAkB,GAAA,uBAAAlB,EAAAmB,GAAAnB,EAAAgC,GAAA,OAAAhC,CAAAY,EAAAqB,WAAA,uCAAAjC,EAAAkB,GAAA,KAAAf,EAAA,QAAoIE,YAAA,aAAuBF,EAAA,aAAkBW,IAAIC,MAAA,SAAAC,GAAyBhB,EAAAiB,WAAAL,EAAAC,OAA8Bb,EAAAkB,GAAA,yBAA+BlB,EAAAkB,GAAA,KAAAf,EAAA,OAAyBE,YAAA,oDAA8DF,EAAA,iBAAsBM,OAAOyB,WAAA,GAAAC,OAAA,oBAAAC,YAAApC,EAAAV,gBAAA+C,eAAArC,EAAAT,YAAAE,MAAAO,EAAAP,OAA8HqB,IAAKwB,cAAAtC,EAAAuC,iBAAAC,iBAAAxC,EAAAyC,wBAA6E,gBAE99CC,oBACjBC,EAAA,gMCHA,IAAAC,EAAA5D,EAAA,QAGA,IASA6D,EAZA,SAAAC,GACA9D,EAAA,SAgBA+D,EAdA/D,EAAA,OAcAgE,CACAC,EAAAC,EACAN,EAAA,GATA,EAWAC,EAPA,kBAEA,MAUAF,EAAA,QAAAI,EAAA","file":"static/js/11.aefe179363ba3bd792fc.js","sourcesContent":["<template>\n  <div class=\"container\" :style=\"{'min-height': minHeight+'px'}\">\n    <el-row>\n      <el-col :span=\"24\">\n        <pl-content-box-block>\n          <div class=\"table-box\" v-for=\"(item,index) in data\" @click=\"viewDetail(item, index)\">\n            <div class=\"table-box-title\">\n              <h3>{{item.title}}</h3>\n            </div>\n            <div class=\"table-box-main\">\n              <div class=\"main-img\">\n                <img :src=\"picPath(item.noticeId)\" alt=\"图片\" width=\"300\" height=\"150\">\n              </div>\n              <div class=\"main-text\">\n                <p class=\"no-indent news-content\"  style=\"max-height: 100px;\" v-text=\"getText(item.content)\"></p>\n                <p class=\"no-indent bottom-p\">\n                  <span class=\"main-date\">\n                    {{item.createTime | date('YYYY-MM-DD')}}\n                  </span>\n                  <span class=\"main-btn\">\n                    <el-button @click=\"viewDetail(item, index)\">查看详情</el-button>\n                  </span>\n                </p>\n              </div>\n            </div>\n          </div>\n        </pl-content-box-block>\n        <div class=\"table-page-wrapper text-center margin-bottom-12\" >\n          <el-pagination\n            background\n            layout=\"prev, pager, next\"\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :page-size=\"currentPageSize\"\n            :current-page=\"currentPage\"\n            :total=\"total\">\n          </el-pagination>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\n  import {MsgType} from 'core/constants';\n  import httpUtil from 'core/utils/http-util';\n  import {HttpPrefix} from 'core/constants';\n  export default {\n    data () {\n      return {\n        filterNotice: {\n          title: ''\n        },\n        getUsersData: this.$api.bsp.notice.getNotices,\n        data: [],\n        total: 0,\n        currentPage: 1,\n        currentPageSize: 10,\n        pages: 0,\n        params: {\n          pageSize: 10,\n          pageNo: 1\n        }\n      };\n    },\n    computed: {\n      minHeight () {\n        return document.documentElement.clientHeight-184;\n      }\n    },\n    created () {\n      this.getNoticeData();\n    },\n    methods: {\n      getNoticeData () {\n        this.params.pageSize = this.currentPageSize;\n        this.params.pageNo = this.currentPage;\n        this.$api.bsp.notice.getNotices(this.params).then(ret => {\n          this.data = ret.data;\n          this.total = ret.total;\n          this.pages = parseInt(this.total / this.currentPageSize) + (this.total % this.currentPageSize === 0 ? 0 : 1);\n        });\n      },\n      handleSizeChange (val) {\n        this.currentPageSize = val;\n        this.currentPage = 1;\n        this.getNoticeData();\n      },\n      handleCurrentChange (val) {\n        this.currentPage = val;\n        this.getNoticeData();\n      },\n      picPath (relateId) {\n        return httpUtil.genPath(HttpPrefix.API + '/file/pub-file/echoPic?relateId=' + relateId + '&&fileType=2')\n      },\n      viewDetail (row, index) {\n        let prevId, nextId;\n        if (this.data.length > (index + 1)) {\n          nextId = this.data[index + 1].noticeId;\n        }\n        if (index > 0) {\n          prevId = this.data[index - 1].noticeId;\n        }\n        this.$router.push({'name': 'news', params: {noticeId: row.noticeId, nextId, prevId}});\n      },\n      getText (html) {\n        return html.replace(/<[^>]+>/g, '');\n      }\n    }\n  };\n</script>\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  .title-container{\n    margin-bottom: 14px;\n    vertical-align: middle;\n  }\n  .news-title{\n    text-align: left;\n    font-size: 16px;\n    font-weight: bold;\n    display: inline-block;\n    overflow: hidden;\n    text-overflow:ellipsis;\n    white-space: nowrap;\n    width: 28em;\n    vertical-align: inherit;\n    margin-bottom: 0;\n  }\n  .news-date{\n    vertical-align: inherit;\n  }\n  /*new*/\n  .table-box {\n    padding-top: 10px;\n    padding-right: 20px;\n    margin-bottom: 30px;\n    background: #f6f6f6;\n    height: 235px;\n    position: relative;\n    cursor: pointer;\n    &:first-child{\n      margin-top: 80px;\n    }\n    &:hover{\n      border: 1px solid #06b7e9;\n      transition: transform 0.5s;\n      transform:translateY(-12px);\n    }\n    .news-content{\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 3;\n      /*line-height: 20px;*/\n      overflow: hidden;\n      max-height: 100px;\n    }\n    .table-box-title{\n      padding-left: 22px;\n      margin-bottom: 15px;\n      border-left: 4px solid #06b7e9;\n      h3{\n        font-size: 20px;\n      }\n    }\n    .table-box-main{\n      margin-left: 26px;\n      overflow: hidden;\n      display: flex;\n      .main-img {\n        float: left;\n        margin-right: 10px;\n        width: 300px;\n      }\n      .main-text {\n        color: #666;\n        font-size: 14px;\n        flex: 1;\n        position: relative;\n        .bottom-p{\n          position: absolute;\n          bottom: 0;\n          width: 100%;\n          .main-date {\n            text-align: center;\n          }\n          .main-btn{\n            position: absolute;\n            right: 0;\n            bottom: -5px;\n          }\n        }\n      }\n    }\n  }\n  /*new*/\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/modules/home/sub/news-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",style:({'min-height': _vm.minHeight+'px'})},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('pl-content-box-block',_vm._l((_vm.data),function(item,index){return _c('div',{staticClass:\"table-box\",on:{\"click\":function($event){_vm.viewDetail(item, index)}}},[_c('div',{staticClass:\"table-box-title\"},[_c('h3',[_vm._v(_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"table-box-main\"},[_c('div',{staticClass:\"main-img\"},[_c('img',{attrs:{\"src\":_vm.picPath(item.noticeId),\"alt\":\"图片\",\"width\":\"300\",\"height\":\"150\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"main-text\"},[_c('p',{staticClass:\"no-indent news-content\",staticStyle:{\"max-height\":\"100px\"},domProps:{\"textContent\":_vm._s(_vm.getText(item.content))}}),_vm._v(\" \"),_c('p',{staticClass:\"no-indent bottom-p\"},[_c('span',{staticClass:\"main-date\"},[_vm._v(\"\\n                  \"+_vm._s(_vm._f(\"date\")(item.createTime,'YYYY-MM-DD'))+\"\\n                \")]),_vm._v(\" \"),_c('span',{staticClass:\"main-btn\"},[_c('el-button',{on:{\"click\":function($event){_vm.viewDetail(item, index)}}},[_vm._v(\"查看详情\")])],1)])])])])})),_vm._v(\" \"),_c('div',{staticClass:\"table-page-wrapper text-center margin-bottom-12\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":_vm.currentPageSize,\"current-page\":_vm.currentPage,\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-204aa9b8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/modules/home/sub/news-list.vue\n// module id = QdsR\n// module chunks = 11","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-204aa9b8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./news-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./news-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./news-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-204aa9b8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./news-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-204aa9b8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/modules/home/sub/news-list.vue\n// module id = vmax\n// module chunks = 11"],"sourceRoot":""}