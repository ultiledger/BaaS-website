{"version":3,"sources":["webpack:///./src/components/login/login.vue","webpack:///./src/components/login/login.vue?47b5","webpack:///src/components/login/login.vue"],"names":["__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7a73d6ec_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_login_vue__","__webpack_require__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_login_vue___default","a","__webpack_exports__","esExports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","on","keyup","$event","_k","keyCode","key","send","attrs","model","form","placeholder","value","callback","$$v","$set","expression","type","auto-complete","loading","click","span","forgetPassword","staticRenderFns","_config","getVerifyCode","clientHeight","loginContext","_this2","then","_ref","isLogin","msg","serviceUrl","defaultRoute","authApps","i","appUrl","setLoginHeight"],"mappings":"qOAAA,IAAAA,EAAAC,EAAA,QAGA,IASAC,EAZA,SAAAC,GACAF,EAAA,SAgBAG,EAdAH,EAAA,OAcAI,CACAC,EAAAC,EACAP,EAAA,GATA,EAWAE,EAPA,KAEA,MAUAM,EAAA,QAAAJ,EAAA,2CC1BA,IAEAK,GAAiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,YAAA,kBAA4BF,EAAA,aAAAJ,EAAAO,GAAA,KAAAH,EAAA,OAAwCI,IAAA,eAAAF,YAAA,kBAA+CF,EAAA,OAAYE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,cAAAG,IAA8BC,MAAA,SAAAC,GAAyB,iBAAAA,IAAAX,EAAAY,GAAAD,EAAAE,QAAA,WAAAF,EAAAG,IAAA,SAA+Fd,EAAAe,KAAAJ,GAAf,SAAyCP,EAAA,OAAYE,YAAA,gBAA0BN,EAAAO,GAAA,8BAAAP,EAAAO,GAAA,KAAAH,EAAA,WAAiEI,IAAA,OAAAF,YAAA,aAAAU,OAA2CC,MAAAjB,EAAAkB,QAAkBd,EAAA,gBAAAA,EAAA,YAAoCY,OAAOG,YAAA,MAAmBF,OAAQG,MAAApB,EAAAkB,KAAA,SAAAG,SAAA,SAAAC,GAAmDtB,EAAAuB,KAAAvB,EAAAkB,KAAA,WAAAI,IAAoCE,WAAA,oBAA6B,GAAAxB,EAAAO,GAAA,KAAAH,EAAA,gBAAAA,EAAA,YAAoDY,OAAOS,KAAA,WAAAC,gBAAA,MAAAP,YAAA,MAA2DF,OAAQG,MAAApB,EAAAkB,KAAA,SAAAG,SAAA,SAAAC,GAAmDtB,EAAAuB,KAAAvB,EAAAkB,KAAA,WAAAI,IAAoCE,WAAA,oBAA6B,GAAAxB,EAAAO,GAAA,KAAAH,EAAA,gBAAqCE,YAAA,sBAAgCF,EAAA,aAAkBE,YAAA,YAAAU,OAA+BS,KAAA,UAAAE,QAAA3B,EAAA2B,SAAuClB,IAAKmB,MAAA5B,EAAAe,QAAkBf,EAAAO,GAAA,YAAAP,EAAAO,GAAA,KAAAH,EAAA,UAAAA,EAAA,UAA2DY,OAAOa,KAAA,MAAWzB,EAAA,aAAkBE,YAAA,aAAAU,OAAgCS,KAAA,QAAchB,IAAKmB,MAAA5B,EAAA8B,kBAA4B9B,EAAAO,GAAA,qCAEx2CwB,oBACjBlC,EAAA,wFCiDA,MAAAmC,EAAA1C,EAAA,4CAEAA,EAAA,yDAKA,YACA,eACA,kBAEA,QACA,gCACA,4BAEA2C,oFAIAC,0BACAC,8CAEA,uBAGA,IAAAC,EAAAnC,mBACA,oCAEAiB,MAAAmB,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAC,2BACA,UAEAC,8GAWAC,uCAEAC,wFAIAC,WACA,uEAGA,KACAC,GACA,+BAMAC,mCAEAH,6EAIAT,mEAGA,iEAWA,6FAKAS,yCAIAI,uBACA7C,kCAEA6C","file":"static/js/16.b7e43668bd1a9dc005c0.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a73d6ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a73d6ec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/login.vue\n// module id = EV1k\n// module chunks = 16","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"login-wrapper\"},[_c('pl-header'),_vm._v(\" \"),_c('div',{ref:\"loginContext\",staticClass:\"login-context\"},[_c('div',{staticClass:\"login-container\"},[_c('div',{staticClass:\"login-panel\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.send($event)}}},[_c('div',{staticClass:\"login-title\"},[_vm._v(\"\\n          登录\\n        \")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",staticClass:\"login-form\",attrs:{\"model\":_vm.form}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"账号\"},model:{value:(_vm.form.userName),callback:function ($$v) {_vm.$set(_vm.form, \"userName\", $$v)},expression:\"form.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\",\"placeholder\":\"密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"login-btn-wrapper\"},[_c('el-button',{staticClass:\"login-btn\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.send}},[_vm._v(\"登录\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{staticClass:\"forgetPass\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.forgetPassword}},[_vm._v(\"忘记密码 ?\")])],1)],1)],1)],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a73d6ec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/login.vue\n// module id = Y2Yd\n// module chunks = 16","<template>\n  <section class=\"login-wrapper\">\n    <pl-header></pl-header>\n    <div class=\"login-context\" ref=\"loginContext\">\n      <div class=\"login-container\">\n        <div class=\"login-panel\" @keyup.enter=\"send\">\n          <div class=\"login-title\">\n            登录\n          </div>\n          <el-form ref=\"form\" :model=\"form\" class=\"login-form\">\n            <el-form-item>\n              <el-input v-model=\"form.userName\" placeholder=\"账号\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-input type=\"password\" v-model=\"form.password\" auto-complete=\"off\" placeholder=\"密码\"></el-input>\n            </el-form-item>\n            <!--<el-form-item>\n              <el-row>\n                <el-col :span=\"16\">\n                  <el-input v-model=\"form.kaptchaReceived\" auto-complete=\"off\" placeholder=\"请输入验证码\"></el-input>\n                </el-col>\n                <el-col :span=\"8\" class=\"text-right\">\n                  <div class=\"code-img\"><img title=\"点击刷新验证码\"  width=\"80\" :src=\"verifyCode\"  @click=\"refreshVerifyCode\"/></div>\n                </el-col>\n              </el-row>\n            </el-form-item>-->\n            <el-form-item class=\"login-btn-wrapper\">\n              <el-button  type=\"primary\" class=\"login-btn\" @click=\"send\" :loading=\"loading\">登录</el-button>\n            </el-form-item>\n            <!--<el-form-item>-->\n              <el-row>\n                <!--<el-col :span=\"9\">\n                     <el-checkbox v-model=\"form.rememberMe\" checked>记住密码</el-checkbox>\n                </el-col>-->\n                <!--<el-col :span=\"12\"  class=\"text-left\">\n                  <el-button type=\"text\" class=\"forgetPass\" @click=\"registerBuyer\">免费注册</el-button>\n                </el-col>-->\n                <el-col :span=\"12\">\n                  <el-button type=\"text\" class=\"forgetPass\" @click=\"forgetPassword\">忘记密码&nbsp;?</el-button>\n                </el-col>\n              </el-row>\n            <!--</el-form-item>-->\n          </el-form>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\n  // let prodEnv = require('../../../config/prod.env');\n  // let devEnv = require('../../../config/dev.env');\n  import config from '../../config';\n  import { MsgType } from 'core/constants';\n  export default {\n    data () {\n      return {\n        form: {\n          userName: '',\n          password: '',\n          rememberMe: true,\n          kaptchaReceived: ''\n        },\n        msg: '<em>hello world</em>',\n        loading: false,\n        verifyCode: this.$api.core.getVerifyCode()\n      };\n    },\n    methods: {\n      setLoginHeight () {\n        let h = document.documentElement.clientHeight;\n        let loginContext = this.$refs.loginContext;\n        if (loginContext) {\n          loginContext.style.height = (h - loginContext.offsetTop) + 'px';\n        }\n      },\n      send () {\n        this.loading = true;\n        // this.$router.push({name: 'bsp.biz.notice-list'});// 暂时性\n        this.$store.dispatch('login', this.form)\n          .then(({isLogin, msg}) => {\n            this.loading = false;\n            if (isLogin) {\n              this.go(msg);\n            }\n          }\n        );\n      },\n      go (msg) {\n        if (msg.bean && msg.bean.sso) {\n          this.goBizApp(); // 个性化需求,跳转业务系统\n          return;\n        }\n        if (msg.bean && msg.bean.serviceUrl) {\n          window.location.href = msg.bean.serviceUrl;\n        } else {\n          this.$router.push(config.defaultRoute());\n        }\n      },\n      goBizApp () {\n        let authApps = this.$store.state.contextData.user.extension.authApps;\n        let bizApp = null;\n        if (authApps) {\n          for (let i = 0, len = authApps.length; i < len; i++) {\n            if (authApps[i].appCode === 'CHAINBILL') {\n              bizApp = authApps[i];\n              break;\n            }\n          }\n        }\n\n        if (bizApp) {\n          window.location.href = bizApp.appUrl;\n        } else {\n          this.$router.push(config.defaultRoute());\n        }\n      },\n      refreshVerifyCode () {\n        this.verifyCode = this.$api.core.getVerifyCode();\n      },\n      forgetPassword () {\n        this.$router.push({name: 'forgetPass'});\n      },\n      registerBuyer () {\n        // let registerPath = process.env.NODE_ENV === 'production' ? prodEnv.registerPath : devEnv.registerPath;\n        /* if (process.env.NODE_ENV === 'production') {\n          this.$api.core.getBuyerRegAddress().then(ret => {\n            window.location.href = ret.address;\n          });\n        } else {\n          this.$router.push({name: ''});\n        } */\n        this.$router.push({'name': 'bsp.register'});\n      }\n    },\n    created () {\n      if (this.$store.state.isLogin) {\n        this.$router.push(config.defaultRoute());\n      }\n    },\n    mounted () {\n      this.setLoginHeight();\n      let _this = this;\n      window.onresize = function () {\n        _this.setLoginHeight();\n      };\n    }\n  };\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\">\n  @import \"../../assets/scss/index\";\n  .login-wrapper {\n    background: #fff;\n    overflow: hidden;\n    .login-context {\n      min-height: 500px;\n      /*margin-top: 60px;*/\n      background: url(\"img/login-bg.png\") no-repeat center 0;\n      .login-container {\n        @extend .container;\n        position: relative;\n        height: 100%;\n        .login-panel {\n          position: absolute;\n          top: calc(45% - 180px);\n          right: 100px;\n          box-shadow: 2px 2px 5px rgb(204, 204, 204);\n          height: 360px;\n          width: 330px;\n          background: rgba(255, 255, 255, 0.8);\n          .login-title {\n            height: 50px;\n            line-height: 50px;\n            padding-left: 30px;\n            font-size: 20px;\n            border-bottom: 1px solid $border-color;\n          }\n          .login-form {\n            padding: 30px 30px;\n            .login-btn-wrapper{\n              text-align: right;\n            }\n            .forgetPass {\n              padding: 2px 0px;\n            }\n          }\n          .login-btn {\n            width: 100%;\n          }\n          .code-img{\n            height: 36px;\n            img{\n              cursor: pointer;\n            }\n            background: url(./img/loading.gif) no-repeat center 0;\n          }\n        }\n      }\n    }\n  }\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/login/login.vue"],"sourceRoot":""}